<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reward Editor - Bobrashov</title>
    <style>
        :root{--p:#4CAF50;--s:#FFC107;--bg:#f5f5f5;--card:#fff;--txt:#333;--border:#ddd}
        [data-theme="dark"]{--p:#66BB6A;--s:#FFD54F;--bg:#121212;--card:#1e1e1e;--txt:#fff;--border:#333}
        [data-theme="minimal"]{--p:#000;--s:#666;--bg:#fff;--card:#fafafa;--txt:#000;--border:#eee}
        [data-theme="ocean"]{--p:#2196F3;--s:#00BCD4;--bg:#E3F2FD;--card:#fff;--txt:#0D47A1;--border:#BBDEFB}
        [data-theme="forest"]{--p:#388E3C;--s:#8BC34A;--bg:#E8F5E8;--card:#fff;--txt:#1B5E20;--border:#C8E6C9}
        *{margin:0;padding:0;box-sizing:border-box}
        body{background:var(--bg);color:var(--txt);font-family:Georgia,serif;padding:2rem;max-width:1000px;margin:0 auto;line-height:1.6;transition:all .3s}
        .h{text-align:center;margin-bottom:3rem}.t{font-size:2.5rem;margin-bottom:.5rem;color:var(--p)}.st{opacity:.8;font-style:italic}
        .n{text-align:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid var(--border)}
        .n a{color:var(--txt);text-decoration:none;margin:0 1rem;font-size:.9rem;opacity:.8;transition:all .3s}
        .n a:hover{color:var(--p);opacity:1}
        .editor{background:var(--card);border:1px solid var(--border);padding:2rem;margin-bottom:2rem;border-radius:10px}
        .form-row{margin-bottom:1.5rem}
        .label{display:block;margin-bottom:.5rem;opacity:.9}
        .input,.textarea,.select{width:100%;background:var(--bg);border:1px solid var(--border);color:var(--txt);padding:.7rem;font-family:inherit;border-radius:6px}
        .input:focus,.textarea:focus,.select:focus{outline:none;border-color:var(--p)}
        .textarea{height:80px;resize:vertical}
        .form-grid{display:grid;grid-template-columns:2fr 1fr 1fr;gap:1rem}
        .btn{background:transparent;border:1px solid var(--border);color:var(--txt);padding:.7rem 1.2rem;cursor:pointer;font-family:inherit;border-radius:6px;transition:all .3s}
        .btn:hover{background:var(--p);color:var(--card)}
        .btn.primary{background:var(--p);border-color:var(--p);color:var(--card)}
        .defaults{margin-bottom:2rem}
        .default-item{background:var(--bg);border:1px solid var(--border);padding:1rem;margin-bottom:.5rem;cursor:pointer;border-radius:6px;transition:all .3s}
        .default-item:hover{border-color:var(--p)}
        .rewards-list{margin-bottom:2rem}
        .reward-item{background:var(--card);border:1px solid var(--border);padding:1.5rem;margin-bottom:1rem;border-radius:8px;position:relative}
        .reward-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}
        .reward-name{font-size:1.1rem;color:var(--p)}
        .reward-cost{background:var(--s);color:var(--card);padding:.2rem .6rem;border-radius:12px;font-size:.8rem;font-weight:bold}
        .reward-desc{opacity:.8;margin-bottom:.5rem}
        .reward-meta{font-size:.8rem;opacity:.7;margin-bottom:1rem}
        .delete-btn{background:#f44336;border-color:#f44336;color:white;padding:.4rem .8rem;font-size:.8rem}
        .delete-btn:hover{opacity:.8}
        .stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem;margin-bottom:2rem}
        .stat{background:var(--card);border:1px solid var(--border);padding:1rem;text-align:center;border-radius:8px}
        .sv{font-size:1.5rem;color:var(--p);margin-bottom:.3rem}
        .sl{font-size:.8rem;opacity:.8}
        @media(max-width:768px){body{padding:1rem}.form-grid{grid-template-columns:1fr}.stats{grid-template-columns:repeat(2,1fr)}}
    </style>
</head>
<body>
    <nav class="n">
        <a href="daily-quests.html">üéØ Daily Quests</a>
        <a href="achievements.html">üèÜ Achievements</a>
        <a href="calendar.html">üìÖ Calendar</a>
        <a href="analytics.html">üìä Analytics</a>
        <a href="quest-shop.html">üõí Shop</a>
        <a href="settings.html">‚öôÔ∏è Settings</a>
        <a href="index.html">Home</a>
    </nav>
    <header class="h">
        <h1 class="t">üéÅ Reward Editor</h1>
        <p class="st">Create and manage your custom rewards</p>
    </header>
    <div class="stats">
        <div class="stat"><div class="sv" id="totalRewards">0</div><div class="sl">Total Rewards</div></div>
        <div class="stat"><div class="sv" id="avgCost">0</div><div class="sl">Average Cost</div></div>
        <div class="stat"><div class="sv" id="categories">0</div><div class="sl">Categories</div></div>
    </div>
    <div class="editor">
        <h3>‚ûï Add New Reward</h3>
        <div class="form-row">
            <label class="label">Reward Name</label>
            <input type="text" class="input" id="rewardName" placeholder="Netflix for 1 month">
        </div>
        <div class="form-row">
            <label class="label">Description</label>
            <textarea class="textarea" id="rewardDesc" placeholder="Enjoy unlimited streaming..."></textarea>
        </div>
        <div class="form-grid">
            <div>
                <label class="label">XP Cost</label>
                <input type="number" class="input" id="rewardCost" placeholder="1500">
            </div>
            <div>
                <label class="label">Category</label>
                <select class="select" id="rewardCategory">
                    <option value="instant">Instant</option>
                    <option value="daily">Daily</option>
                    <option value="weekly">Weekly</option>
                    <option value="monthly">Monthly</option>
                    <option value="subscription">Subscription</option>
                    <option value="vip">VIP</option>
                </select>
            </div>
            <div>
                <label class="label">Cooldown (days)</label>
                <input type="number" class="input" id="rewardCooldown" placeholder="7" value="0">
            </div>
        </div>
        <div class="form-row">
            <label class="label">Unlock Requirement (optional)</label>
            <input type="text" class="input" id="rewardUnlock" placeholder="Level 10, Streak 30, Achievement 'Dedicated'">
        </div>
        <button class="btn primary" onclick="ar()">Add Reward</button>
    </div>
    <div class="rewards-list">
        <h3>üìã Your Rewards</h3>
        <div id="rl"></div>
    </div>
    <div class="defaults">
        <h3>üí° Suggested Rewards by Category</h3>
        <div id="dr"></div>
    </div>
    <script>
        let si=[];
        const dr={
            instant:[{name:"Favorite Snack",cost:50,desc:"Treat yourself to your favorite snack",cooldown:0},{name:"15 Min Break",cost:75,desc:"Guilt-free relaxation time",cooldown:0},{name:"Coffee/Tea Upgrade",cost:100,desc:"Premium coffee or special tea",cooldown:1},{name:"Music Discovery",cost:150,desc:"Buy a new song or album",cooldown:0},{name:"Quick Game Session",cost:200,desc:"30 minutes of gaming",cooldown:0}],
            daily:[{name:"Favorite Meal",cost:300,desc:"Order or cook your favorite dish",cooldown:1},{name:"Movie Night",cost:400,desc:"Watch a movie with snacks",cooldown:0},{name:"Bath & Relaxation",cost:250,desc:"Long relaxing bath or spa time",cooldown:2},{name:"Social Time",cost:350,desc:"Hang out with friends",cooldown:0},{name:"Hobby Time",cost:500,desc:"2 hours dedicated to your hobby",cooldown:0}],
            weekly:[{name:"Shopping Spree",cost:1000,desc:"Guilt-free shopping within budget",cooldown:7},{name:"Date Night",cost:1500,desc:"Special evening out",cooldown:7},{name:"Weekend Trip",cost:2000,desc:"Short getaway or day trip",cooldown:14},{name:"New Book/Game",cost:800,desc:"Purchase something you've been wanting",cooldown:7},{name:"Massage/Spa",cost:1200,desc:"Professional relaxation treatment",cooldown:14}],
            monthly:[{name:"Major Purchase",cost:5000,desc:"Something you've been saving for",cooldown:30},{name:"Weekend Vacation",cost:8000,desc:"2-3 day trip somewhere special",cooldown:60},{name:"Course/Workshop",cost:3000,desc:"Invest in learning something new",cooldown:30},{name:"Tech Upgrade",cost:6000,desc:"New gadget or device upgrade",cooldown:90},{name:"Experience Gift",cost:4000,desc:"Concert, show, or special event",cooldown:30}],
            subscription:[{name:"Netflix Premium",cost:2000,desc:"1 month premium streaming",cooldown:30},{name:"Spotify Premium",cost:1500,desc:"1 month ad-free music",cooldown:30},{name:"Gym Membership",cost:3000,desc:"1 month fitness access",cooldown:30},{name:"Adobe Creative",cost:2500,desc:"1 month creative tools",cooldown:30},{name:"Meal Kit Service",cost:3500,desc:"1 month cooking convenience",cooldown:30}],
            vip:[{name:"Cheat Day Pass",cost:1000,desc:"Guilt-free indulgence day",cooldown:14,unlock:"Streak 14"},{name:"Skip Workout",cost:500,desc:"One-time exercise pass",cooldown:7,unlock:"Level 10"},{name:"Lazy Sunday",cost:800,desc:"Complete relaxation day",cooldown:21,unlock:"Perfect Week"},{name:"VIP Treatment",cost:5000,desc:"Ultimate luxury experience",cooldown:90,unlock:"Level 25"},{name:"Dream Purchase",cost:15000,desc:"Something truly special",cooldown:180,unlock:"Streak 100"}]
        };
        function at(){const s=JSON.parse(localStorage.getItem('questSettings')||'{}');if(s.theme)document.documentElement.setAttribute('data-theme',s.theme);}
        function ld(){let saved=localStorage.getItem('bq-shop');if(saved){si=JSON.parse(saved);}else{si=[];}us();rr();rd();}
        function sv(){localStorage.setItem('bq-shop',JSON.stringify(si));}
        function us(){document.getElementById('totalRewards').textContent=si.length;const avg=si.length>0?Math.round(si.reduce((s,i)=>s+i.cost,0)/si.length):0;document.getElementById('avgCost').textContent=avg;const cats=new Set(si.map(i=>i.category));document.getElementById('categories').textContent=cats.size;}
        function rr(){const c=document.getElementById('rl');if(si.length===0){c.innerHTML='<div style="text-align:center;opacity:.6;padding:2rem;">No rewards created yet. Add some below!</div>';return;}c.innerHTML=si.map(i=>`<div class="reward-item"><div class="reward-header"><h4 class="reward-name">${i.name}</h4><span class="reward-cost">${i.cost} XP</span></div><div class="reward-desc">${i.desc}</div><div class="reward-meta">üìÇ ${i.category.charAt(0).toUpperCase()+i.category.slice(1)} ${i.cooldown>0?`‚Ä¢ ‚è∞ ${i.cooldown} day cooldown`:'‚Ä¢ ‚ú® No cooldown'}${i.unlock?`‚Ä¢ üîê ${i.unlock}`:''}</div><button class="btn delete-btn" onclick="del('${i.id}')">Delete</button></div>`).join('');}
        function rd(){const c=document.getElementById('dr');c.innerHTML=Object.entries(dr).map(([cat,items])=>`<div style="margin-bottom:2rem;"><h4 style="margin:1rem 0;color:var(--p);">${cat.charAt(0).toUpperCase()+cat.slice(1)} Rewards</h4>${items.map(i=>`<div class="default-item" onclick="ad('${cat}',${JSON.stringify(i).replace(/"/g,'&quot;')})"><strong>${i.name}</strong> - ${i.cost} XP<br><small style="opacity:.8;">${i.desc}</small></div>`).join('')}</div>`).join('');}
        function ar(){const name=document.getElementById('rewardName').value;const desc=document.getElementById('rewardDesc').value;const cost=parseInt(document.getElementById('rewardCost').value);const category=document.getElementById('rewardCategory').value;const cooldown=parseInt(document.getElementById('rewardCooldown').value)||0;const unlock=document.getElementById('rewardUnlock').value;if(!name||!desc||!cost){alert('Please fill in all required fields');return;}const nr={id:Date.now()+Math.random(),name,desc,cost,category,cooldown,unlock:unlock||null,purchased:[],lastPurchased:null};si.push(nr);sv();us();rr();document.getElementById('rewardName').value='';document.getElementById('rewardDesc').value='';document.getElementById('rewardCost').value='';document.getElementById('rewardCooldown').value='0';document.getElementById('rewardUnlock').value='';alert(`Reward "${name}" added successfully!`);}
        function ad(cat,item){const nr={id:Date.now()+Math.random(),name:item.name,desc:item.desc,cost:item.cost,category:cat,cooldown:item.cooldown||0,unlock:item.unlock||null,purchased:[],lastPurchased:null};si.push(nr);sv();us();rr();alert(`Added "${item.name}" to your rewards!`);}
        function del(id){if(confirm('Delete this reward?')){si=si.filter(i=>i.id!==id);sv();us();rr();}}
        at();ld();
    </script>
</body>
</html>